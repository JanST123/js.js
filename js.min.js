window.js=window.js||{};js.onReady=function(b){"function"==typeof b&&("complete"==document.readyState||"interactive"==document.readyState?b():"function"==typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",b))};js.hasClass=function(b,a){var c=[];b.hasAttribute("class")&&(c=b.getAttribute("class").trim().split(" "));return 0<=c.indexOf(a)};
js.addClass=function(b,a){var c=[];b.hasAttribute("class")&&(c=b.getAttribute("class").trim().split(" "));0>c.indexOf(a)&&c.push(a);c=c.join(" ");b.setAttribute("class",c);return!0};js.removeClass=function(b,a){var c=[];b.hasAttribute("class")&&(c=b.getAttribute("class").trim().split(" "));0<=c.indexOf(a)&&delete c[c.indexOf(a)];c=c.join(" ").trim();b.setAttribute("class",c);return!0};var storageBackend="cookie";
js.storage={getBackend:function(){return storageBackend},setBackend:function(b){if(0>["cookie","localstorage"].indexOf(b))throw"js.storage Backend must be cookie or localstorage";storageBackend=b;"localstorage"!=b||"localStorage"in window||(storageBackend="cookie")},get:function(b,a){a="undefined"===typeof a?null:a;if("cookie"==storageBackend){var c=new RegExp(b+"=([^;]+)");if("string"==typeof document.cookie&&document.cookie.match(c))return JSON.parse(RegExp.$1)}else if("localstorage"==storageBackend&&
js.storage.has(b))return JSON.parse(localStorage.getItem(b));return a},set:function(b,a,c){c=c||null;"cookie"==storageBackend?(b=b+"="+JSON.stringify(a).replace(/;/g,"#SEMIKOLON#")+";",c&&(b=c instanceof Date?b+("expires="+c.toGMTString()):b+("expires="+c)),document.cookie=b):"localstorage"==storageBackend&&localStorage.setItem(b,JSON.stringify(a))},has:function(b){if("cookie"==storageBackend){if(b=new RegExp(name+"=([^;]+)"),"string"==typeof document.cookie&&document.cookie.match(b))return!0}else if("localstorage"==
storageBackend)return null!==localStorage.getItem(b);return!1},"delete":function(b){"cookie"==storageBackend?document.cookie=b+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;":"localstorage"==storageBackend&&localStorage.removeItem(b)}};js.getCookie=function(b,a){var c=js.storage.getBackend();js.storage.setBackend("cookie");var d=js.storage.get(b,a);js.storage.setBackend(c);return d};js.setCookie=function(b,a,c){var d=js.storage.getBackend();js.storage.setBackend("cookie");js.storage.set(b,a,c);js.storage.setBackend(d)};
js.addEl=function(b,a,c,d){d=d||"append";if(0>["append","prepend","after","before"].indexOf(d))throw"js.addEl: invalid position!";c=c||null;a=document.createElement(a);switch(d){case "before":b.parentNode.insertBefore(a,b);break;case "after":b.parentNode.insertBefore(a,b.nextSibling);break;case "prepend":b.insertBefore(a,b.firstChild);break;case "append":b.appendChild(a)}null!==c&&js.addClass(a,c);return a};
js.parentUntil=function(b,a){if(b instanceof HTMLElement)for(var c=b;c=c.parentNode;)if("function"===typeof c.matches&&c.matches(a)||"function"===typeof c.msMatchesSelector&&c.msMatchesSelector(a))return c;return!1};js.isDescendant=function(b,a){if(b instanceof HTMLElement)for(var c=b;c=c.parentNode;)if(c===a)return!0;return!1};
js.addHtml=function(b,a,c){c=c||"append";if(0>["append","prepend","after","before"].indexOf(c))throw"js.addEl: invalid position!";var d=document.createElement("div");d.innerHTML=a.trim();a=d.firstChild;switch(c){case "before":b.parentNode.insertBefore(a,b);break;case "after":b.parentNode.insertBefore(a,b.nextSibling);break;case "prepend":b.insertBefore(a,b.firstChild);break;case "append":b.appendChild(a)}return a};js.removeEl=function(b){return b&&b.parentNode?(b.parentNode.removeChild(b),!0):!1};
js.selectAllText=function(b){window.selectAllTextTimeout&&(window.clearTimeout(window.selectAllTextTimeout),window.selectAllTextTimeout=null);window.selectAllTextTimeout=window.setTimeout(function(){b.focus();b.setSelectionRange(0,9999);window.selectAllTextTimeout=null},100)};
js.updateMetaTag=function(b,a){b=b.replace(":","\\:");if("undefined"!=typeof document.head&&"function"==typeof document.head.querySelector){var c=document.head.querySelector("meta[name="+b+"],meta[http-equiv="+b+"],meta[property="+b+"]");c||null===a||(c=js.addEl(document.head,"meta"),c.setAttribute("name",b));if(c)return null===a?js.removeEl(c):c.setAttribute("content",a),!0}return!1};
js.updateTitle=function(b){if("undefined"!=typeof document.head&&"function"==typeof document.head.querySelector){var a=document.head.getElementsByTagName("title");(a=a.length?a[0]:null)||null===b||(a=js.addEl(document.head,"title"));if(a)return null===b?js.removeEl(a):a.textContent=b,!0}return!1};js.getTitle=function(){if("undefined"!=typeof document.head&&"function"==typeof document.head.querySelector){var b=document.head.getElementsByTagName("title");if(b=b.length?b[0]:null)return b.textContent}return""};
js.updateLinkTag=function(b,a){name=name.replace(":","\\:");if("undefined"!=typeof document.head&&"function"==typeof document.head.querySelector){var c=document.head.querySelector("link[rel="+b+"]");c||null===a||(c=js.addEl(document.head,"link"),c.setAttribute("rel",b));if(c)return null===a?js.removeEl(c):c.setAttribute("href",a),!0}return!1};
js.animateScroll=function(b,a,c){a instanceof Node&&(c=a,a=null);a=a||400;if(b!=(c?c.scrollTop:window.scrollY)){b=Math.floor(b);var d=0,e=c?c.scrollTop:window.scrollY,f=-1,m=+new Date-1,k=b>e?1:-1,n=1==k?b-e:e-b,h=function(){if(window.scrollY!=f){f=c?c.scrollTop:window.scrollY;var e=+(c?c.scrollTop:window.scrollY)+(new Date-m)/a*n*k;e=1==k?Math.ceil(e):Math.floor(e);e>=b&&1==k||e<=b&&-1==k?(e=b,cancelAnimationFrame(d)):(m=+new Date,d=requestAnimationFrame(h));c?c.scrollTop=e:window.scrollTo(0,e)}else cancelAnimationFrame(d)};
d=requestAnimationFrame(h)}};js.dereference=function(b){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};js.ajaxParam=function(b,a,c){a=a||"";c=c||[];for(var d in b)if(b.hasOwnProperty(d)&&"length"!=d)if("object"==typeof b[d]&&null!==b[d])c.push(d),a=js.ajaxParam(js.dereference(b[d]),a,c),c.pop();else{""!==a&&(a+="&");for(var e="",f=0;f<c.length;++f)e=""===e?e+c[f]:e+("["+c[f]+"]");e=""!==e?e+("["+d+"]"):e+d;a=null===b[d]?a+(e+"="):a+(e+"="+encodeURIComponent(b[d]))}return a};
js.isTouchDevice=function(){return"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?!0:!1};js.objectMerge=function(b,a){var c=js.dereference(b),d;for(d in a)a.hasOwnProperty(d)&&(c.hasOwnProperty(d)&&"object"===typeof c[d]&&null!==c[d]&&"object"===typeof a[d]&&null!==a[d]?c[d]=js.objectMerge(b[d],a[d]):c[d]=a[d]);return c};var ajaxDefaultSettings={};js.ajaxSetup=function(b){ajaxDefaultSettings=b};
js.ajax=function(b,a){var c=new XMLHttpRequest,d=[["X-Requested-With","xmlhttprequest"]];a=a||{};a=js.objectMerge(ajaxDefaultSettings,a);a.method=a.method||"GET";a.user=a.user||null;a.password=a.password||null;a.context=a.context||a;"string"==typeof a.accepts?d.push(["Accept",a.accepts]):"string"==typeof a.dataType&&"json"==a.dataType?d.push(["Accept","application/json"]):d.push(["Accept","*/*"]);"string"==typeof a.contentType?d.push(["Content-Type",a.contentType]):d.push(["Content-Type","application/x-www-form-urlencoded; charset=UTF-8"]);
if("object"===typeof a.headers&&null!==a.headers)for(var e in a.headers)if(a.headers.hasOwnProperty(e)&&"length"!=e)if("object"==typeof a.headers[e]&&"undefined"!=typeof a.headers[e].length)d.push(a.headers[e]);else{var f=a.headers[e].split(":");2==f.length&&(f[1]=f[1].trim(),d.push(f))}if("object"==typeof a.xhrFields&&null!==a.xhrFields)for(e in a.xhrFields)a.xhrFields.hasOwnProperty(e)&&"length"!=e&&(c[e]=a.xhrFields[e]);e=null;"object"==typeof a.data&&null!==a.data?e=js.ajaxParam(a.data):"string"==
typeof a.data&&(e=a.data);"GET"==a.method&&e&&(f=b.split("?"),f[1]=1<f.length?f[1]+"&":"",f[1]+=e,b=f[0]+"?"+f[1]);c.open(a.method,b,!0,a.user,a.password);for(f=0;f<d.length;++f)c.setRequestHeader(d[f][0],d[f][1]);"function"==typeof a.beforeSend&&a.beforeSend.call(a.context,c,a);"number"==typeof a.timeout&&(c.timeout=a.timeout);c.addEventListener("load",function(){if(4==this.readyState&&("function"!=typeof a.complete||!1!==a.complete.call(a.context,this,this.response))){if(400<=this.status)"function"==
typeof a.error&&a.error.call(a.context,this,this.response);else if(200==this.status){var b=this.response;if("string"==typeof a.dataType&&"json"==a.dataType)try{b=JSON.parse(this.response)}catch(k){"function"==typeof a.error&&a.error.call(a.context,this,this.response)}"function"==typeof a.dataFilter&&a.dataFilter.call(a.context,b,a.dataType);"function"==typeof a.success&&a.success.call(a.context,b,this.response,this)}"object"==typeof a.statusCode&&null!==a.statusCode&&"function"==typeof a.statusCode[this.status]&&
a.statusCode[this.status].call(a.context,this,this.response)}});c.addEventListener("error",function(){"function"==typeof a.error&&a.error.call(a.context,c,"error")});"function"==typeof a.progressCallback&&c.addEventListener("progress",a.progressCallback);"POST"==a.method?c.send(e):c.send();return c};js.get=function(b,a,c,d,e){"string"==typeof d&&(e=d,d=null);a=a||{};return js.ajax(b,{data:a,dataType:e||"text",error:d,success:c,method:"GET"})};
js.post=function(b,a,c,d,e){"string"==typeof d&&(e=d,d=null);a=a||{};return js.ajax(b,{data:a,dataType:e||"text",error:d,success:c,method:"POST"})};js.getStyleProperty=function(b,a){var c=null;"function"==typeof window.getComputedStyle?c=window.getComputedStyle(b).getPropertyValue(a):b.currentStyle&&(c=b.currentStyle[a]);return c};js.pregQuote=function(b){return"string"===typeof b?b.replace(/([\.\\\+\*\?\[\^\]\$\(\)\{\}\=\!\|\:\-])/g,"\\$1"):b};
js.serializeFormValues=function(b,a){a=a||!1;var c={};if(b&&"function"===typeof b.querySelectorAll)for(var d=function(a,b){"string"==typeof a.name&&a.name.match(/(.*)\[(.*)\]$/)?""===RegExp.$2?("object"!=typeof c[RegExp.$1]&&(c[RegExp.$1]=[]),c[RegExp.$1].push(b)):("object"!=typeof c[RegExp.$1]&&(c[RegExp.$1]={}),c[RegExp.$1][RegExp.$2]=calue):c[a.name]=b},e=b.querySelectorAll("input,select,textarea"),f=0;f<e.length;++f)"undefined"==typeof e[f].type||"checkbox"!=e[f].type&&"radio"!=e[f].type?"SELECT"==
e[f].tagName?d(e[f],e[f].options[e[f].selectedIndex].value):d(e[f],e[f].value):e[f].checked&&d(e[f],e[f].value);return a?c:js.ajaxParam(c)};js.triggerEvent=function(b,a,c){c=c||null;if(c){var d=document.createEvent("CustomEvent");d.initCustomEvent(a,!0,!0,c)}else d=document.createEvent("Event"),d.initEvent(a,!0,!0);b.dispatchEvent(d)};
js.eventListener=function(b){function a(a){return function(b){this.onselectstart=function(){return!1};js.addClass(document.body,"prevent-selection-for-longtouch");k=!1;"object"===typeof b.touches[0]&&"number"===typeof b.touches[0].clientX&&(f=b.touches[0].clientX,m=b.touches[0].clientY);var c=this;e=window.setTimeout(function(){k=!0;"function"==typeof navigator.vibrate&&navigator.vibrate(50);a.call(c,b)},500)}}function c(a){js.removeClass(document.body,"prevent-selection-for-longtouch");k&&(a.preventDefault(),
k=!1);e&&(window.clearTimeout(e),e=null)}function d(a){e&&"object"===typeof a.touches[0]&&"number"===typeof a.touches[0].clientX&&null!==f&&null!==m&&(20<Math.abs(f-a.touches[0].clientX)||Math.abs(m-a.touches[0].clientY))&&(window.clearTimeout(e),e=null)}b=b||null;var e=null,f=null,m=null,k=!1;return{add:function(e,h,f,l){if(b&&"function"===typeof b.addEventListener){l=l||!1;"string"==typeof h&&(h=[h]);for(var g=0;g<h.length;++g)switch(h[g]){case "longtouch":var n=a(f);b.addEventListener("touchstart",
n,l);js.boundEvents.push([b,e+"-longtouchstart","touchstart",n,l]);b.addEventListener("touchend",c,l);js.boundEvents.push([b,e+"-longtouchend","touchend",c,l]);b.addEventListener("touchmove",d,l);js.boundEvents.push([b,e+"-longtouchmove","touchmove",d,l]);break;default:b.addEventListener(h[g],f,l),js.boundEvents.push([b,e,h[g],f,l])}}},remove:function(a,c,e,d){if(b&&"function"===typeof b.removeEventListener){d=d||!1;"string"==typeof c&&(c=[c]);for(var f=!1,h=[],g=0;g<js.boundEvents.length;++g)js.boundEvents[g][0]===
b&&js.boundEvents[g][1]==a?(b.removeEventListener(js.boundEvents[g][2],js.boundEvents[g][3],js.boundEvents[g][4]),delete js.boundEvents[g],f=!0):h.push(js.boundEvents[g]);js.boundEvents=h;if(!f&&e)for(g=0;g<c.length;++g)b.removeEventListener(c[g],e,d)}},trigger:function(a,c){c=c||{};for(var d=0;d<js.boundEvents.length;++d)null!==b&&js.boundEvents[d][0]!==b||js.boundEvents[d][1]!=a||(c.type=js.boundEvents[d][2],js.boundEvents[d][3].call(js.boundEvents[d][0],c))},pause:function(a){for(var c=js.dereference(js.boundEvents),
d=0;d<js.boundEvents.length;++d)c[d][0]===b&&c[d][1]==a&&(js.pausedEvents.push(c[d]),js.eventListener(b).remove(c[d][1],c[d][2],c[d][3],c[d][4]))},resume:function(a){for(var c=[],d=0;d<js.pausedEvents.length;++d)js.pausedEvents[d][0]===b&&js.pausedEvents[d][1]==a&&(js.eventListener(b).add(js.pausedEvents[d][1],js.pausedEvents[d][2],js.pausedEvents[d][3],js.pausedEvents[d][4]),c.push(d));for(a=0;a<c.length;++a)js.pausedEvents.splice(c[a],1)},pauseAll:function(a){a=a||null;for(var b=[],c=0;c<js.boundEvents.length;++c)-1===
js.boundEvents[c][1].indexOf(a)&&(js.pausedEvents.push(js.boundEvents[c]),b.push(js.boundEvents[c]));for(a=0;a<b.length;++a)js.eventListener(b[a][0]).remove(b[a][1],b[a][2],b[a][3],b[a][4])},resumeAll:function(){for(var a=[],b=0;b<js.pausedEvents.length;++b)js.eventListener(js.pausedEvents[b][0]).add(js.pausedEvents[b][1],js.pausedEvents[b][2],js.pausedEvents[b][3],js.pausedEvents[b][4]),a.push(b);for(b=0;b<a.length;++b)js.pausedEvents.splice(a[b],1)}}};js.boundEvents=[];js.pausedEvents=[];
