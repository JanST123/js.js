window.js=window.js||{};js.onReady=function(b){"function"==typeof b&&("complete"==document.readyState||"interactive"==document.readyState?b():"function"==typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",b))};js.hasClass=function(b,a){var c=[];b.hasAttribute("class")&&(c=b.getAttribute("class").trim().split(" "));return 0<=c.indexOf(a)};
js.addClass=function(b,a){var c=[];b.hasAttribute("class")&&(c=b.getAttribute("class").trim().split(" "));0>c.indexOf(a)&&c.push(a);c=c.join(" ");b.setAttribute("class",c);return!0};js.removeClass=function(b,a){var c=[];b.hasAttribute("class")&&(c=b.getAttribute("class").trim().split(" "));0<=c.indexOf(a)&&delete c[c.indexOf(a)];c=c.join(" ");b.setAttribute("class",c);return!0};
js.getCookie=function(b,a){a=a||null;var c=new RegExp(b+"=([^;]+)");return"string"==typeof document.cookie&&document.cookie.match(c)?JSON.parse(RegExp.$1):a};js.setCookie=function(b,a,c){c=c||null;b=b+"="+JSON.stringify(a).replace(/;/g,"#SEMIKOLON#")+";";c&&(b=c instanceof Date?b+("expires="+c.toGMTString()):b+("expires="+c));document.cookie=b};
js.addEl=function(b,a,c,d){d=d||"append";if(0>["append","prepend","after","before"].indexOf(d))throw"js.addEl: invalid position!";c=c||null;a=document.createElement(a);switch(d){case "before":b.parentNode.insertBefore(a,b);break;case "after":b.parentNode.insertBefore(a,b.nextSibling);break;case "prepend":b.insertBefore(a,b.firstChild);break;case "append":b.appendChild(a)}null!==c&&js.addClass(a,c);return a};js.removeEl=function(b){return b&&b.parentNode?(b.parentNode.removeChild(b),!0):!1};
js.selectAllText=function(b){window.selectAllTextTimeout&&(window.clearTimeout(window.selectAllTextTimeout),window.selectAllTextTimeout=null);window.selectAllTextTimeout=window.setTimeout(function(){b.focus();b.setSelectionRange(0,9999);window.selectAllTextTimeout=null},100)};
js.updateMetaTag=function(b,a){b=b.replace(":","\\:");if("undefined"!=typeof document.head&&"function"==typeof document.head.querySelector){var c=document.head.querySelector("meta[name="+b+"],meta[http-equiv="+b+"],meta[property="+b+"]");c||null===a||(c=js.addEl(document.head,"meta"),c.setAttribute("name",b));if(c)return null===a?js.removeEl(c):c.setAttribute("content",a),!0}return!1};
js.updateLinkTag=function(b,a){name=name.replace(":","\\:");if("undefined"!=typeof document.head&&"function"==typeof document.head.querySelector){var c=document.head.querySelector("link[rel="+b+"]");c||null===a||(c=js.addEl(document.head,"link"),c.setAttribute("rel",b));if(c)return null===a?js.removeEl(c):c.setAttribute("href",a),!0}return!1};
js.animateScroll=function(b,a){a=a||.4;var c=document.body.scrollHeight-document.body.clientHeight;b>c&&(b=c);js.hasClass(document.body,"js-animate-scroll")||(js.addClass(document.body,"js-animate-scroll"),document.body.style.transition="string"===typeof document.body.style.transition&&""!==document.body.style.transition?document.body.style.transition+",":"",document.body.style.transition+="transform "+parseFloat(a)+"s");var d=function(){document.body.removeEventListener("webkitTransitionEnd",d,!1);
document.body.removeEventListener("oTransitionEnd",d,!1);document.body.removeEventListener("transitionend",d,!1);document.body.style.overflow="";var a=document.body.style.transition;document.body.style.transition="";document.body.style.transform="";window.scrollTo(0,b);document.body.style.transition=a};document.body.addEventListener("webkitTransitionEnd",d,!1);document.body.addEventListener("oTransitionEnd",d,!1);document.body.addEventListener("transitionend",d,!1);document.body.style.overflow="hidden";
document.body.style.transform="translateY("+parseInt(-1*b)+"px)"};js.dereference=function(b){var a={},c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};js.ajaxParam=function(b,a,c){a=a||"";c=c||[];for(var d in b)if(b.hasOwnProperty(d)&&"length"!=d)if("object"==typeof b[d]&&null!==b[d])c.push(d),a=js.ajaxParam(js.dereference(b[d]),a,c),c.pop();else{""!==a&&(a+="&");for(var e="",f=0;f<c.length;++f)e=""===e?e+c[f]:e+("["+c[f]+"]");e=""!==e?e+("["+d+"]"):e+d;a=null===b[d]?a+(e+"="):a+(e+"="+encodeURIComponent(b[d]))}return a};
js.ajax=function(b,a){var c=new XMLHttpRequest,d=[["X-Requested-With","xmlhttprequest"]];a=a||{};a.method=a.method||"GET";a.user=a.user||null;a.password=a.password||null;a.context=a.context||a;"string"==typeof a.accepts?d.push(["Accept",a.accepts]):"string"==typeof a.dataType&&"json"==a.dataType?d.push(["Accept","application/json"]):d.push(["Accept","*/*"]);"string"==typeof a.contentType?d.push(["Content-Type",a.contentType]):d.push(["Content-Type","application/x-www-form-urlencoded; charset=UTF-8"]);
if("object"===typeof a.headers&&null!==a.headers)for(var e in a.headers)if(a.headers.hasOwnProperty(e)&&"length"!=e)if("object"==typeof a.headers[e]&&"undefined"!=typeof a.headers[e].length)d.push(a.headers[e]);else{var f=a.headers[e].split(":");2==f.length&&(f[1]=f[1].trim(),d.push(f))}if("object"==typeof a.xhrFields&&null!==a.xhrFields)for(e in a.xhrFields)a.xhrFields.hasOwnProperty(e)&&"length"!=e&&(c[e]=a.xhrFields[e]);e=null;"object"==typeof a.data&&null!==a.data?e=js.ajaxParam(a.data):"string"==
typeof a.data&&(e=a.data);"GET"==a.method&&e&&(b+="?"+e);c.open(a.method,b,!0,a.user,a.password);for(f=0;f<d.length;++f)c.setRequestHeader(d[f][0],d[f][1]);"function"==typeof a.beforeSend&&a.beforeSend.call(a.context,c,a);"number"==typeof a.timeout&&(c.timeout=a.timeout);c.addEventListener("load",function(){if(4==this.readyState&&("function"!=typeof a.complete||!1!==a.complete.call(a.context,this,this.response))){if(400<=this.status)"function"==typeof a.error&&a.error.call(a.context,this,this.response);
else if(200==this.status){var b=this.response;if("string"==typeof a.dataType&&"json"==a.dataType)try{b=JSON.parse(this.response)}catch(k){"function"==typeof a.error&&a.error.call(a.context,this,this.response)}"function"==typeof a.dataFilter&&a.dataFilter.call(a.context,b,a.dataType);"function"==typeof a.success&&a.success.call(a.context,b,this.response,this)}"object"==typeof a.statusCode&&null!==a.statusCode&&"function"==typeof a.statusCode[this.status]&&a.statusCode[this.status].call(a.context,this,
this.response)}});c.addEventListener("error",function(){"function"==typeof a.error&&a.error.call(a.context,c,"error")});"function"==typeof a.progressCallback&&c.addEventListener("progress",a.progressCallback);"POST"==a.method?c.send(e):c.send();return c};js.get=function(b,a,c,d,e){"string"==typeof d&&(e=d,d=null);a=a||{};return js.ajax(b,{data:a,dataType:e||"text",error:d,success:c,method:"GET"})};
js.post=function(b,a,c,d,e){"string"==typeof d&&(e=d,d=null);a=a||{};return js.ajax(b,{data:a,dataType:e||"text",error:d,success:c,method:"POST"})};js.getStyleProperty=function(b,a){var c=null;"function"==typeof window.getComputedStyle?c=window.getComputedStyle(b).getPropertyValue(a):b.currentStyle&&(c=b.currentStyle[a]);return c};js.pregQuote=function(b){return"string"===typeof b?b.replace(/([\.\\\+\*\?\[\^\]\$\(\)\{\}\=\!\|\:\-])/g,"\\$1"):b};
js.serializeFormValues=function(b){function a(a,b){"string"==typeof a.name&&a.name.match(/(.*)\[(.*)\]$/)?""===RegExp.$2?("object"!=typeof c[RegExp.$1]&&(c[RegExp.$1]=[]),c[RegExp.$1].push(b)):("object"!=typeof c[RegExp.$1]&&(c[RegExp.$1]={}),c[RegExp.$1][RegExp.$2]=calue):c[a.name]=b}var c={};b=b.querySelectorAll("input,select,textarea");for(var d=0;d<b.length;++d)"undefined"==typeof b[d].type||"checkbox"!=b[d].type&&"radio"!=b[d].type?"SELECT"==b[d].tagName?a(b[d],b[d].options[b[d].selectedIndex].value):
a(b[d],b[d].value):b[d].checked&&a(b[d],b[d].value);return js.ajaxParam(c)};js.triggerEvent=function(b,a,c){c=c||{};a=new Event(a,c);b.dispatchEvent(a)};
js.eventListener=function(b){function a(a){return function(b){this.onselectstart=function(){return!1};k=!1;"object"===typeof b.touches[0]&&"number"===typeof b.touches[0].clientX&&(f=b.touches[0].clientX,m=b.touches[0].clientY);var c=this;e=window.setTimeout(function(){k=!0;"function"==typeof window.navigator.vibrate&&window.navigator.vibrate(50);a.call(c,b)},500)}}function c(a){k&&(a.preventDefault(),k=!1);e&&(window.clearTimeout(e),e=null)}function d(a){e&&"object"===typeof a.touches[0]&&"number"===
typeof a.touches[0].clientX&&null!==f&&null!==m&&(20<Math.abs(f-a.touches[0].clientX)||Math.abs(m-a.touches[0].clientY))&&(window.clearTimeout(e),e=null)}var e=null,f=null,m=null,k=!1;return{add:function(e,f,h,g){g=g||!1;"string"==typeof f&&(f=[f]);for(var l=0;l<f.length;++l)switch(f[l]){case "longtouch":var n=a(h);b.addEventListener("touchstart",n,g);js.boundEvents.push([b,e+"-longtouchstart","touchstart",n,g]);b.addEventListener("touchend",c,g);js.boundEvents.push([b,e+"-longtouchend","touchend",
c,g]);b.addEventListener("touchmove",d,g);js.boundEvents.push([b,e+"-longtouchmove","touchmove",d,g]);break;default:b.addEventListener(f[l],h,g),js.boundEvents.push([b,e,f[l],h,g])}},remove:function(a,c,d,e){e=e||!1;for(var f=!1,h=[],g=0;g<js.boundEvents.length;++g)js.boundEvents[g][0]===b&&js.boundEvents[g][1]==a?(b.removeEventListener(js.boundEvents[g][2],js.boundEvents[g][3],js.boundEvents[g][4]),delete js.boundEvents[g],f=!0):h.push(js.boundEvents[g]);js.boundEvents=h;f||b.removeEventListener(c,
d,e)},trigger:function(a,c){c=c||{};for(var d=0;d<js.boundEvents.length;++d)js.boundEvents[d][0]===b&&js.boundEvents[d][1]==a&&(c.type=js.boundEvents[d][2],js.boundEvents[d][3].call(b,c))}}};js.boundEvents=[];
